
# DroneVision

Набор скриптов для обработки видео и логов дрона DJI Mavic 3 из экспедиций Плавучего университета




## Установка

Установка библиотек производится из файла requirements.txt, например, вот так

```bash
  py -m venv env_DV
  env_DV\Scripts\activate
  pip install -r requierements.txt
```


    
## Запуск

Основной файл настроек это `config.py`, по возможности трогайте только его

| Название переменной | Значение переменной |
|------------|----------------------------------------|
| VIDEO_PATH | путь к видео|
| LOG_PATH   | путь к логам (в формате json)|
| DELTA_HOURS |  разница в часах между видео и логами| 
|FRAME_FORMAT| формат изображений (лучше `png`)|
|SAVE_DIR| путь к извлекаемым кадрам|
|PROJECTED_DIR| путь к спроецированным кадрам|
|SHIFTED_DIR| путь к геопривязанным кадрам|
|SAVE_VIDEO | сохранять спроецированные кадры в видео |
|FORCE_EXTRACT | заново извлекать кадры из видео|
|FORCE_PROJECT | заново проецировать кадры|
|FRAME_INTERVAL | интервал для извлечения кадров|
|FOV_DEGREES |угол обзора камеры|
|PIXEL_SCALE |желаемое разрешение метров / пиксель|
|HORIZON_SHIFT | отступ от горизонта в попугаях (нелинейный)|
|VIDEO_START_OFFSET_S | время в секундах от начала видео|
|VIDEO_END_OFFSET_S |время конца обрезки от начала видео|

